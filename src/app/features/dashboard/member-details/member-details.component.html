<div class="details-container" *ngIf="chef(); else loading">
    <div class="page-header">
        <button mat-stroked-button (click)="goBack()">
            <mat-icon>arrow_forward</mat-icon>
            رجوع للقائمة
        </button>
        <div class="actions">
            <button mat-icon-button color="primary">
                <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn">
                <mat-icon>delete</mat-icon>
            </button>
        </div>
    </div>

    <!-- Header Card -->
    <mat-card class="profile-header-card">
        <div class="profile-header">
            <div class="avatar-lg">{{ chef()!.firstName.charAt(0) }}</div>
            <div class="profile-info">
                <h1>{{ chef()!.firstName }} {{ chef()!.lastName }}</h1>
                <p class="role-text">{{ chef()!.currentPosition || 'المنصب غير محدد' }}</p>
                <div class="status-row">
                    <p-badge [value]="chef()!.statusDisplay" [severity]="getSeverity(chef()!.availabilityStatus || '')"
                        styleClass="text-lg"></p-badge>
                    <span class="rating-badge">
                        <mat-icon>star</mat-icon>
                        {{ chef()!.rating }}
                    </span>
                </div>
            </div>
        </div>
    </mat-card>

    <div class="grid-container">
        <!-- Contact Info -->
        <mat-card class="info-card">
            <mat-card-header>
                <mat-card-title>
                    <mat-icon>contact_phone</mat-icon>
                    معلومات الاتصال
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="info-list">
                    <div class="info-item">
                        <span class="label">البريد الإلكتروني</span>
                        <span class="value">{{ chef()!.email }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">الهاتف</span>
                        <span class="value">{{ chef()!.phone }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">المدينة</span>
                        <span class="value">{{ chef()!.city }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">البلد</span>
                        <span class="value">{{ chef()!.country }}</span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Professional Info -->
        <mat-card class="info-card">
            <mat-card-header>
                <mat-card-title>
                    <mat-icon>work</mat-icon>
                    الخبرات والمهارات
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="info-list">
                    <div class="info-item">
                        <span class="label">التخصص الرئيسي</span>
                        <span class="tag primary">{{ chef()!.primaryCuisine }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">مهارات ثانوية</span>
                        <span class="tag secondary">{{ chef()!.secondaryCuisines || 'لا يوجد' }}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">سنوات الخبرة</span>
                        <span class="value">{{ chef()!.yearsOfExperience }} سنوات</span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Notes -->
        <mat-card class="info-card full-width">
            <mat-card-header>
                <mat-card-title>
                    <mat-icon>note</mat-icon>
                    ملاحظات
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p class="notes-text">{{ chef()!.notes || 'لا توجد ملاحظات مسجلة.' }}</p>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<ng-template #loading>
    <div class="loading-state">
        <p>جاري تحميل البيانات...</p>
    </div>
</ng-template>