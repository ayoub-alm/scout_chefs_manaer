<div class="overview-container">
    <div class="page-header">
        <h1 class="page-title">
            <mat-icon class="title-icon">dashboard</mat-icon>
            نظرة عامة
        </h1>
        <p class="page-subtitle">ملخص الأداء والإحصائيات</p>
    </div>

    <!-- Summary Cards -->
    <div class="summary-cards">
        <mat-card class="summary-card card-green">
            <mat-card-content>
                <div class="card-header">
                    <mat-icon class="card-icon">groups</mat-icon>
                    <span class="card-label">إجمالي الأعضاء</span>
                </div>
                <div class="card-value">{{ totalRecords() }}</div>
            </mat-card-content>
        </mat-card>

        <mat-card class="summary-card card-orange">
            <mat-card-content>
                <div class="card-header">
                    <mat-icon class="card-icon">check_circle</mat-icon>
                    <span class="card-label">الأعضاء المتاحون</span>
                </div>
                <div class="card-value">{{ availableCount() }}</div>
            </mat-card-content>
        </mat-card>

        <mat-card class="summary-card card-amber">
            <mat-card-content>
                <div class="card-header">
                    <mat-icon class="card-icon">star</mat-icon>
                    <span class="card-label">متوسط التقييم</span>
                </div>
                <div class="card-value">{{ averageRating() }}</div>
            </mat-card-content>
        </mat-card>

        <mat-card class="summary-card card-blue">
            <mat-card-content>
                <div class="card-header">
                    <mat-icon class="card-icon">pending</mat-icon>
                    <span class="card-label">قيد التفاوض</span>
                </div>
                <div class="card-value">{{ negotiatingCount() }}</div>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- Events and Blog Section -->
    <div class="sections-grid">
        <!-- Events Section -->
        <mat-card class="dashboard-card">
            <mat-card-header>
                <mat-card-title class="card-title-flex">
                    <mat-icon>event</mat-icon>
                    الأحداث القادمة
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="events-list">
                    <div class="event-item" *ngFor="let event of events">
                        <div class="event-icon" [ngClass]="event.type.toLowerCase()">
                            <mat-icon>{{ event.icon }}</mat-icon>
                        </div>
                        <div class="event-details">
                            <span class="event-title">{{ event.title }}</span>
                            <span class="event-date">{{ event.date }}</span>
                        </div>
                        <span class="event-status"
                            [ngClass]="event.status === 'قادم' ? 'status-upcoming' : 'status-pending'">
                            {{ event.status }}
                        </span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Blog Management Section -->
        <mat-card class="dashboard-card">
            <mat-card-header>
                <mat-card-title class="card-title-flex">
                    <mat-icon>article</mat-icon>
                    إدارة المدونة
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="blog-stats-grid">
                    <div class="stat-item">
                        <span class="stat-value">{{ blogStats.totalPosts }}</span>
                        <span class="stat-label">مقال منشور</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">{{ blogStats.monthlyViews }}</span>
                        <span class="stat-label">مشاهدة شهرية</span>
                    </div>
                    <div class="stat-item highlight">
                        <span class="stat-value">{{ blogStats.pendingReviews }}</span>
                        <span class="stat-label">في الانتظار</span>
                    </div>
                </div>
                <div class="blog-actions">
                    <button mat-raised-button color="primary" class="full-width-btn">
                        <mat-icon>add</mat-icon>
                        إضافة مقال جديد
                    </button>
                    <button mat-stroked-button class="full-width-btn">
                        <mat-icon>list</mat-icon>
                        عرض المقالات
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- Charts Section -->
    <div class="charts-section">
        <mat-card class="chart-card" *ngIf="isBrowser">
            <mat-card-header>
                <mat-card-title>توزيع حالة الأعضاء</mat-card-title>
            </mat-card-header>
            <mat-card-content class="chart-container">
                <canvas baseChart [data]="statusChartData" type="bar" [options]="chartOptions"></canvas>
            </mat-card-content>
        </mat-card>

        <!-- Placeholder for second chart -->
        <mat-card class="chart-card" *ngIf="isBrowser">
            <mat-card-header>
                <mat-card-title>إحصائيات الجهات</mat-card-title>
            </mat-card-header>
            <mat-card-content class="chart-container">
                <div class="placeholder-chart">
                    <mat-icon>bar_chart</mat-icon>
                    <span>قريباً</span>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>